{"ast":null,"code":"var _jsxFileName = \"/Users/noraabdullah/Desktop/FSND/capstone/frontend/src/MovieForm.js\",\n    _s = $RefreshSig$();\n\nimport { useForm } from \"react-hook-form\";\nimport { useColorModeValue } from \"@chakra-ui/color-mode\";\nimport { FormErrorMessage, FormLabel, FormControl, Input, Button, Textarea, Stack, Box, Center, Flex, Heading, HStack, VStack } from \"@chakra-ui/react\";\nimport { useMediaQuery } from \"@chakra-ui/media-query\";\nimport { useState, useRef } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = () => {\n  _s();\n\n  const {\n    getAccessTokenSilently\n  } = useAuth0();\n  const [movie, setMovie] = useState({\n    title: \"\",\n    image: \"\",\n    cast: \"\",\n    plot: \"\",\n    genres: \"\",\n    rating: \"\",\n    imdb: \"\",\n    release: \"\"\n  });\n  const image = useRef();\n  const config = {\n    bucketName: process.env.REACT_APP_BUCKET_NAME,\n    region: process.env.REACT_APP_REGION,\n    accessKeyId: process.env.REACT_APP_ACCESS_ID,\n    secretAccessKey: process.env.REACT_APP_ACCESS_KEY\n  };\n  const {\n    handleSubmit\n  } = useForm();\n\n  const onSubmit = e => {\n    setMovie(movie);\n    let data = JSON.stringify({\n      title: movie.title,\n      image: movie.image,\n      cast: movie.cast,\n      plot: movie.plot,\n      genres: movie.genres,\n      rating: movie.rating,\n      imdb: movie.imdb,\n      release: movie.release\n    });\n\n    (async () => {\n      try {\n        const token = await getAccessTokenSilently({\n          audience: \"capstone\",\n          scope: \"post:movies\"\n        });\n        const response = await fetch(\"/movies\", {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          body: data\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    })();\n  };\n\n  const handleChange = e => {\n    movie[e.target.id] = e.target.value;\n  };\n\n  const color = useColorModeValue(\"gray.100\", \"gray.700\");\n  const [isLargeScreen] = useMediaQuery(\"(min-width: 600px)\");\n  return isLargeScreen ? /*#__PURE__*/_jsxDEV(Flex, {\n    height: \"2xl\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"column\",\n        spacing: 4,\n        p: 12,\n        rounded: 6,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          bgColor: color,\n          p: 8,\n          maxWidth: \"4xl\",\n          borderWidth: 1,\n          borderRadius: 8,\n          boxShadow: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"lg\",\n            children: \"Add movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(HStack, {\n            children: [/*#__PURE__*/_jsxDEV(VStack, {\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"title\",\n                name: \"title\",\n                isRequired: true,\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Movie's title\",\n                  focusBorderColor: \"teal.500\",\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"cast\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Cast\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"E.g.: Brad Pitt, Will Smith..\",\n                  size: \"md\",\n                  w: \"20rem\",\n                  focusBorderColor: \"teal.500\",\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"genres\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Genres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"E.g.: Action, Fantasy...\",\n                  size: \"md\",\n                  focusBorderColor: \"teal.500\",\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"image\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"file\",\n                  size: \"md\",\n                  focusBorderColor: \"teal.500\",\n                  onChange: handleChange,\n                  ref: image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(VStack, {\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"release\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Release date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Year\",\n                  size: \"md\",\n                  focusBorderColor: \"teal.500\",\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"rating\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"E.g.: PG-13..\",\n                  size: \"md\",\n                  focusBorderColor: \"teal.500\",\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"imdb\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"IMDb Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"E.g.: 7.8\",\n                  size: \"md\",\n                  focusBorderColor: \"teal.500\",\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            id: \"plot\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Plot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              placeholder: \"Movie's plot\",\n              size: \"md\",\n              focusBorderColor: \"teal.500\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          mt: 4,\n          colorScheme: \"teal\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Flex, {\n    height: \"xl\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        bgColor: color,\n        p: 3,\n        maxWidth: \"4xl\",\n        borderWidth: 1,\n        borderRadius: 8,\n        boxShadow: \"lg\",\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"column\",\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"lg\",\n            children: \"Add movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            id: \"title\",\n            isRequired: true,\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Movie's title\",\n              focusBorderColor: \"teal.500\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            id: \"cast\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Cast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"E.g.: Brad Pitt, Will Smith..\",\n              size: \"md\",\n              w: \"20rem\",\n              focusBorderColor: \"teal.500\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            id: \"genres\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Genres\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"E.g.: Action, Fantasy...\",\n              size: \"md\",\n              focusBorderColor: \"teal.500\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(HStack, {\n            children: [/*#__PURE__*/_jsxDEV(FormControl, {\n              id: \"release\",\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                children: \"Release date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Year\",\n                size: \"md\",\n                focusBorderColor: \"teal.500\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              id: \"rating\",\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                children: \"Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"E.g.: PG-13..\",\n                size: \"md\",\n                focusBorderColor: \"teal.500\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            id: \"imdb\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"IMDb Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"E.g.: 7.8\",\n              size: \"md\",\n              focusBorderColor: \"teal.500\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            id: \"plot\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Plot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              placeholder: \"Movie's plot\",\n              size: \"md\",\n              focusBorderColor: \"teal.500\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"bkR7Dv00dU5U5Pkg9ws+gg3in6E=\", false, function () {\n  return [useAuth0, useForm, useColorModeValue, useMediaQuery];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/noraabdullah/Desktop/FSND/capstone/frontend/src/MovieForm.js"],"names":["useForm","useColorModeValue","FormErrorMessage","FormLabel","FormControl","Input","Button","Textarea","Stack","Box","Center","Flex","Heading","HStack","VStack","useMediaQuery","useState","useRef","useAuth0","Form","getAccessTokenSilently","movie","setMovie","title","image","cast","plot","genres","rating","imdb","release","config","bucketName","process","env","REACT_APP_BUCKET_NAME","region","REACT_APP_REGION","accessKeyId","REACT_APP_ACCESS_ID","secretAccessKey","REACT_APP_ACCESS_KEY","handleSubmit","onSubmit","e","data","JSON","stringify","token","audience","scope","response","fetch","method","headers","Authorization","body","console","error","handleChange","target","id","value","color","isLargeScreen"],"mappings":"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","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport { useColorModeValue } from \"@chakra-ui/color-mode\";\nimport {\n  FormErrorMessage,\n  FormLabel,\n  FormControl,\n  Input,\n  Button,\n  Textarea,\n  Stack,\n  Box,\n  Center,\n  Flex,\n  Heading,\n  HStack,\n  VStack,\n} from \"@chakra-ui/react\";\nimport { useMediaQuery } from \"@chakra-ui/media-query\";\nimport { useState, useRef } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nconst Form = () => {\n  const { getAccessTokenSilently } = useAuth0();\n  const [movie, setMovie] = useState({\n    title: \"\",\n    image: \"\",\n    cast: \"\",\n    plot: \"\",\n    genres: \"\",\n    rating: \"\",\n    imdb: \"\",\n    release: \"\",\n  });\n  const image = useRef();\n  const config = {\n    bucketName: process.env.REACT_APP_BUCKET_NAME,\n    region: process.env.REACT_APP_REGION,\n    accessKeyId: process.env.REACT_APP_ACCESS_ID,\n    secretAccessKey: process.env.REACT_APP_ACCESS_KEY,\n  };\n  const { handleSubmit } = useForm();\n  const onSubmit = (e) => {\n    setMovie(movie);\n    let data = JSON.stringify({\n      title: movie.title,\n      image: movie.image,\n      cast: movie.cast,\n      plot: movie.plot,\n      genres: movie.genres,\n      rating: movie.rating,\n      imdb: movie.imdb,\n      release: movie.release,\n    });\n    (async () => {\n      try {\n        const token = await getAccessTokenSilently({\n          audience: \"capstone\",\n          scope: \"post:movies\",\n        });\n        const response = await fetch(\"/movies\", {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          body: data,\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    })();\n  };\n  const handleChange = (e) => {\n    movie[e.target.id] = e.target.value;\n  };\n  const color = useColorModeValue(\"gray.100\", \"gray.700\");\n  const [isLargeScreen] = useMediaQuery(\"(min-width: 600px)\");\n  return isLargeScreen ? (\n    <Flex height=\"2xl\" alignItems=\"center\" justifyContent=\"center\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <Stack direction=\"column\" spacing={4} p={12} rounded={6}>\n          <Box\n            bgColor={color}\n            p={8}\n            maxWidth=\"4xl\"\n            borderWidth={1}\n            borderRadius={8}\n            boxShadow=\"lg\"\n          >\n            <Heading size=\"lg\">Add movie</Heading>\n            <HStack>\n              <VStack>\n                <FormControl id=\"title\" name=\"title\" isRequired>\n                  <FormLabel>Title</FormLabel>\n                  <Input\n                    placeholder=\"Movie's title\"\n                    focusBorderColor=\"teal.500\"\n                    onChange={handleChange}\n                  />\n                </FormControl>\n                <FormControl id=\"cast\">\n                  <FormLabel>Cast</FormLabel>\n                  <Input\n                    placeholder=\"E.g.: Brad Pitt, Will Smith..\"\n                    size=\"md\"\n                    w=\"20rem\"\n                    focusBorderColor=\"teal.500\"\n                    onChange={handleChange}\n                  />\n                </FormControl>\n                <FormControl id=\"genres\">\n                  <FormLabel>Genres</FormLabel>\n                  <Input\n                    placeholder=\"E.g.:\n                  Action, Fantasy...\"\n                    size=\"md\"\n                    focusBorderColor=\"teal.500\"\n                    onChange={handleChange}\n                  />\n                </FormControl>\n                <FormControl id=\"image\">\n                  <FormLabel>Image</FormLabel>\n                  <Input\n                    type=\"file\"\n                    size=\"md\"\n                    focusBorderColor=\"teal.500\"\n                    onChange={handleChange}\n                    ref={image}\n                  />\n                </FormControl>\n              </VStack>\n              <VStack>\n                <FormControl id=\"release\">\n                  <FormLabel>Release date</FormLabel>\n                  <Input\n                    placeholder=\"Year\"\n                    size=\"md\"\n                    focusBorderColor=\"teal.500\"\n                    onChange={handleChange}\n                  />\n                </FormControl>\n\n                <FormControl id=\"rating\">\n                  <FormLabel>Rating</FormLabel>\n                  <Input\n                    placeholder=\"E.g.: PG-13..\"\n                    size=\"md\"\n                    focusBorderColor=\"teal.500\"\n                    onChange={handleChange}\n                  />\n                </FormControl>\n                <FormControl id=\"imdb\">\n                  <FormLabel>IMDb Rating</FormLabel>\n                  <Input\n                    placeholder=\"E.g.: 7.8\"\n                    size=\"md\"\n                    focusBorderColor=\"teal.500\"\n                    onChange={handleChange}\n                  />\n                </FormControl>\n              </VStack>\n            </HStack>\n\n            <FormControl id=\"plot\">\n              <FormLabel>Plot</FormLabel>\n              <Textarea\n                placeholder=\"Movie's plot\"\n                size=\"md\"\n                focusBorderColor=\"teal.500\"\n                onChange={handleChange}\n              />\n            </FormControl>\n          </Box>\n          <Button mt={4} colorScheme=\"teal\" type=\"submit\">\n            Submit\n          </Button>\n        </Stack>\n      </form>\n    </Flex>\n  ) : (\n    <Flex height=\"xl\" alignItems=\"center\" justifyContent=\"center\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <Box\n          bgColor={color}\n          p={3}\n          maxWidth=\"4xl\"\n          borderWidth={1}\n          borderRadius={8}\n          boxShadow=\"lg\"\n        >\n          <Stack direction=\"column\" spacing={2}>\n            <Heading size=\"lg\">Add movie</Heading>\n\n            <FormControl id=\"title\" isRequired>\n              <FormLabel>Title</FormLabel>\n              <Input\n                placeholder=\"Movie's title\"\n                focusBorderColor=\"teal.500\"\n                onChange={handleChange}\n              />\n            </FormControl>\n            <FormControl id=\"cast\">\n              <FormLabel>Cast</FormLabel>\n              <Input\n                placeholder=\"E.g.: Brad Pitt, Will Smith..\"\n                size=\"md\"\n                w=\"20rem\"\n                focusBorderColor=\"teal.500\"\n                onChange={handleChange}\n              />\n            </FormControl>\n            <FormControl id=\"genres\">\n              <FormLabel>Genres</FormLabel>\n              <Input\n                placeholder=\"E.g.:\n                  Action, Fantasy...\"\n                size=\"md\"\n                focusBorderColor=\"teal.500\"\n                onChange={handleChange}\n              />\n            </FormControl>\n            <HStack>\n              <FormControl id=\"release\">\n                <FormLabel>Release date</FormLabel>\n                <Input\n                  placeholder=\"Year\"\n                  size=\"md\"\n                  focusBorderColor=\"teal.500\"\n                  onChange={handleChange}\n                />\n              </FormControl>\n\n              <FormControl id=\"rating\">\n                <FormLabel>Rating</FormLabel>\n                <Input\n                  placeholder=\"E.g.: PG-13..\"\n                  size=\"md\"\n                  focusBorderColor=\"teal.500\"\n                  onChange={handleChange}\n                />\n              </FormControl>\n            </HStack>\n            <FormControl id=\"imdb\">\n              <FormLabel>IMDb Rating</FormLabel>\n              <Input\n                placeholder=\"E.g.: 7.8\"\n                size=\"md\"\n                focusBorderColor=\"teal.500\"\n                onChange={handleChange}\n              />\n            </FormControl>\n            <FormControl id=\"plot\">\n              <FormLabel>Plot</FormLabel>\n              <Textarea\n                placeholder=\"Movie's plot\"\n                size=\"md\"\n                focusBorderColor=\"teal.500\"\n                onChange={handleChange}\n              />\n            </FormControl>\n          </Stack>\n        </Box>\n      </form>\n    </Flex>\n  );\n};\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}